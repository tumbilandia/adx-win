//El jobs o tarea que se crea en Jenkins tiene que ser de tipo pipeline
pipeline {
    agent any
        stages {
            stage('Run playbook') {
              steps{
                //Copia el contenido bajado del repo a la maquina controller
                //***sh script: "scp $WORKSPACE ansible-controller:/home/$user/"
                //Ejecuta el playbook en la maquina ansible controller, el user y pass se pasan como parametro con -e ${user} -e ${passwd}
                //sh label:'playbook', script: "ssh ansible-controller ansible-playbook ./playbook/site.yml -i ./playbook/laboratory"
                //***sh label:'playbook', script: "ssh ansible-controller ansible-playbook ./playbook_sw_installation/software_installation.yml -i ./playbook_sw_installation/inventory"
                //sh 'echo hola mundo'
                echo "Hello World!"
                //sh "echo Hello from the shell"
                //sh "hostname"
                //sh "uptime"
              }
            }
        }
}
